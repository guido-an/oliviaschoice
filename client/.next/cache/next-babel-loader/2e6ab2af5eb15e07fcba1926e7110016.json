{"ast":null,"code":"var _jsxFileName = \"/Users/Guido/Desktop/pharmashop/client/pages/checkout.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useContext, useState } from 'react';\nimport { CartContext } from '../contexts/CartContext';\nimport { UserContext } from '../contexts/UserContext';\nimport Link from 'next/link';\nimport axios from 'axios';\nconst service = axios.create({\n  baseURL: process.env.APP_API,\n  withCredentials: true\n});\n\nconst Checkout = () => {\n  const {\n    totalPrice,\n    setShippingInfo\n  } = useContext(CartContext);\n  const {\n    user\n  } = useState(UserContext);\n  const {\n    0: form,\n    1: setForm\n  } = useState({\n    firstName: '',\n    lastName: '',\n    vatNumber: '',\n    streetAddress: '',\n    city: '',\n    province: '',\n    zipCode: '',\n    telephone: '',\n    email: '',\n    additionalNotes: ''\n  });\n\n  const handleSubmit = async e => {\n    console.log(user, 'user checkout');\n    e.preventDefault();\n\n    try {\n      setShippingInfo(form); // createOrder()\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const createOrder = async () => {\n    console.log(user, 'user checkotu');\n    await service.post('/create-order', {\n      user: user._id\n    });\n  };\n\n  console.log(user, 'user checkout');\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Checkout\"), __jsx(\"form\", {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: form.firstName,\n    placeholder: \"* Nome\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      firstName: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: form.lastName,\n    placeholder: \"* Cognome\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      lastName: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: form.vatNumber,\n    placeholder: \"* P.IVA / Codice Fiscale\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      vatNumber: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: form.streetAddress,\n    placeholder: \"* Indirizzo\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      streetAddress: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: form.streetAddress,\n    placeholder: \"* Citt\\xE0\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      city: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: form.province,\n    placeholder: \"* Provincia\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      province: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: form.zipCode,\n    placeholder: \"* C.A.P.\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      zipCode: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: form.telephone,\n    placeholder: \"* Telefono\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      telephone: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"email\",\n    value: form.email,\n    placeholder: \"* Email\",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      email: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    type: \"textarea\",\n    value: form.additionalNotes,\n    placeholder: \"Note aggiuntive \",\n    required: true,\n    onChange: e => setForm(_objectSpread(_objectSpread({}, form), {}, {\n      additionalNotes: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), __jsx(Link, {\n    href: \"/pagamento\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, \"Prosegui al pagamento\"))));\n};\n\nexport default Checkout;","map":{"version":3,"sources":["/Users/Guido/Desktop/pharmashop/client/pages/checkout.js"],"names":["useContext","useState","CartContext","UserContext","Link","axios","service","create","baseURL","process","env","APP_API","withCredentials","Checkout","totalPrice","setShippingInfo","user","form","setForm","firstName","lastName","vatNumber","streetAddress","city","province","zipCode","telephone","email","additionalNotes","handleSubmit","e","console","log","preventDefault","err","createOrder","post","_id","target","value"],"mappings":"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","sourcesContent":["import { useContext, useState } from 'react'\nimport { CartContext } from '../contexts/CartContext'\nimport { UserContext } from '../contexts/UserContext'\nimport Link from 'next/link'\nimport axios from 'axios'\n\nconst service = axios.create({\n  baseURL: process.env.APP_API,\n  withCredentials: true\n})\n\nconst Checkout = () => {\n  const { totalPrice, setShippingInfo } = useContext(CartContext)\n  const { user } = useState(UserContext)\n\n  const [form, setForm] = useState({\n    firstName: '',\n    lastName: '',\n    vatNumber: '',\n    streetAddress: '',\n    city: '',\n    province: '',\n    zipCode: '',\n    telephone: '',\n    email: '',\n    additionalNotes: ''\n  })\n\n  const handleSubmit = async e => {\n    console.log(user, 'user checkout')\n    e.preventDefault()\n    try {\n      setShippingInfo(form)\n      // createOrder()\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  const createOrder = async () => {\n    console.log(user, 'user checkotu')\n    await service.post('/create-order', {\n      user: user._id\n    })\n  }\n\n  console.log(user, 'user checkout')\n\n  return (\n    <div>\n      <h1>Checkout</h1>\n      <form onClick={handleSubmit}>\n        <input type='text' value={form.firstName} placeholder='* Nome' required onChange={(e) => setForm({ ...form, firstName: e.target.value })} />\n        <input type='text' value={form.lastName} placeholder='* Cognome' required onChange={(e) => setForm({ ...form, lastName: e.target.value })} />\n        <input type='text' value={form.vatNumber} placeholder='* P.IVA / Codice Fiscale' required onChange={(e) => setForm({ ...form, vatNumber: e.target.value })} />\n        <input type='text' value={form.streetAddress} placeholder='* Indirizzo' required onChange={(e) => setForm({ ...form, streetAddress: e.target.value })} />\n        <input type='text' value={form.streetAddress} placeholder='* Città' required onChange={(e) => setForm({ ...form, city: e.target.value })} />\n        {/* we need list of provincies here */}\n        <input type='text' value={form.province} placeholder='* Provincia' required onChange={(e) => setForm({ ...form, province: e.target.value })} />\n        <input type='text' value={form.zipCode} placeholder='* C.A.P.' required onChange={(e) => setForm({ ...form, zipCode: e.target.value })} />\n        <input type='text' value={form.telephone} placeholder='* Telefono' required onChange={(e) => setForm({ ...form, telephone: e.target.value })} />\n        <input type='email' value={form.email} placeholder='* Email' required onChange={(e) => setForm({ ...form, email: e.target.value })} />\n        <input type='textarea' value={form.additionalNotes} placeholder='Note aggiuntive ' required onChange={(e) => setForm({ ...form, additionalNotes: e.target.value })} />\n        <Link href='/pagamento'><button>Prosegui al pagamento</button></Link>\n      </form>\n    </div>\n  )\n}\nexport default Checkout\n"]},"metadata":{},"sourceType":"module"}