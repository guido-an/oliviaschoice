{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/Guido/Desktop/pharmashop/client/pages/index.js\";\n\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport Link from 'next/link';\nimport axios from 'axios';\n\nvar Index = function Index(_ref) {\n  var products = _ref.products;\n\n  var test = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get('http://localhost:5000/api/products', {\n                baseURL: process.env.APP_API,\n                withCredentials: true\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function test() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, \"Welcome to Next Application\"), __jsx(\"a\", {\n    href: \"\".concat(process.env.APP_API, \"/auth/logout\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, \"Logout\"), products && products.map(function (product) {\n    return __jsx(\"div\", {\n      key: product._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }\n    }, __jsx(Link, {\n      href: \"/prodotto/\".concat(encodeURIComponent(product._id)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }\n    }, __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 13\n      }\n    }, product.name)));\n  }));\n}; // export async function getServerSideProps () {\n//   // Fetch data from external API\n//   const res = await fetch(`${process.env.APP_API}/api/products`, {\n//     headers: {\n//       credentials: 'include'\n//     }\n//   })\n//   const products = await res.json()\n//   // Pass data to the page via props\n//   return { props: { products } }\n// }\n\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/Users/Guido/Desktop/pharmashop/client/pages/index.js"],"names":["React","useContext","Link","axios","Index","products","test","get","baseURL","process","env","APP_API","withCredentials","map","product","_id","encodeURIComponent","name"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAC9B,MAAMC,IAAI;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACLH,KAAK,CAACI,GAAN,CAAU,oCAAV,EACJ;AACEC,gBAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,OADvB;AAEEC,gBAAAA,eAAe,EAAE;AAFnB,eADI,CADK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAJN,IAAI;AAAA;AAAA;AAAA,KAAV;;AAOA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,EAEE;AAAG,IAAA,IAAI,YAAKG,OAAO,CAACC,GAAR,CAAYC,OAAjB,iBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGGN,QAAQ,IAAIA,QAAQ,CAACQ,GAAT,CAAa,UAAAC,OAAO;AAAA,WAC/B;AAAK,MAAA,GAAG,EAAEA,OAAO,CAACC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,sBAAeC,kBAAkB,CAACF,OAAO,CAACC,GAAT,CAAjC,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,OAAO,CAACG,IAAZ,CADF,CADF,CAD+B;AAAA,GAApB,CAHf,CADF;AAaD,CArBD,C,CAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;KAlCMb,K;AAoCN,eAAeA,KAAf","sourcesContent":["import React, { useContext } from 'react'\nimport Link from 'next/link'\nimport axios from 'axios'\n\nconst Index = ({ products }) => {\n  const test = async () => {\n    await axios.get('http://localhost:5000/api/products',\n      {\n        baseURL: process.env.APP_API,\n        withCredentials: true\n      })\n  }\n  return (\n    <div>\n      <h1>Welcome to Next Application</h1>\n      <a href={`${process.env.APP_API}/auth/logout`}>Logout</a>\n      {products && products.map(product =>\n        <div key={product._id}>\n          <Link href={`/prodotto/${encodeURIComponent(product._id)}`}>\n            <p>{product.name}</p>\n          </Link>\n        </div>\n      )}\n    </div>\n  )\n}\n\n// export async function getServerSideProps () {\n//   // Fetch data from external API\n//   const res = await fetch(`${process.env.APP_API}/api/products`, {\n//     headers: {\n//       credentials: 'include'\n//     }\n//   })\n//   const products = await res.json()\n\n//   // Pass data to the page via props\n//   return { props: { products } }\n// }\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}