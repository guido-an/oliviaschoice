{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nconst service = axios.create({\n  baseURL: process.env.APP_API,\n  withCredentials: true\n});\n\nconst Private = () => {\n  const {\n    0: proceed,\n    1: setProceed\n  } = useState(false);\n  const router = useRouter();\n  useEffect(() => {\n    // Create an scoped async function in the hook\n    async function checkIfAdmin() {\n      try {\n        const res = await service.get('/admin/get-admin');\n\n        if (res.data.admin) {\n          setProceed(true);\n        } else {\n          router.push('/');\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    } // Execute the created function directly\n\n\n    checkIfAdmin();\n  }, []);\n\n  if (!proceed) {\n    return __jsx(\"p\", null);\n  }\n\n  return __jsx(\"div\", null, __jsx(\"h1\", null, \"Private\"));\n};\n\nexport default Private;","map":null,"metadata":{},"sourceType":"module"}